---
import "@fancyapps/ui/dist/fancybox/fancybox.css";
import { getI18N } from "@/i18n";
import TagH2 from "@/components/global/TagH2.astro";
import TagP from "../global/TagP.astro";

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });

const imagesGlob = import.meta.glob(
    "@public/img/gallery/snorkeling-adventure/*.webp",
    { eager: true },
);
const images = Object.values(imagesGlob).map((img: any) => img.default);
---

<section class="text-center">
    <TagH2 class="pt-20 max-w-3xl mx-auto">{i18n.HOME_PAGE.GALLERY.TITLE}</TagH2>
    <TagP class="max-w-3xl mx-auto mb-20 text-center!">
        {i18n.HOME_PAGE.GALLERY.DESCRIPTION}
    </TagP>
    <div class="relative overflow-hidden md:overflow-visible">
        <div
            class="grid grid-cols-9 grid-rows-2 gap-2 md:gap-4 h-100 lg:h-[45rem] w-170 sm:w-200 md:w-full max-w-none md:max-w-full"
        >
            <div
                class="rounded-lg bg-zinc-300 col-span-2"
                data-fancybox="gallery"
                data-src={images[0].src}
            >
                <img
                    class="w-full h-full object-cover rounded-lg"
                    src={images[0].src}
                    alt="Gallery Image 1"
                />
            </div>
            <div
                class="rounded-lg bg-zinc-300 col-span-2 col-start-3"
                data-fancybox="gallery"
                data-src={images[1].src}
            >
                <img
                    class="w-full h-full object-cover rounded-lg"
                    src={images[1].src}
                    alt="Gallery Image 2"
                />
            </div>
            <div
                class="rounded-lg bg-zinc-300 col-span-2 col-start-5"
                data-fancybox="gallery"
                data-src={images[2].src}
            >
                <img
                    class="w-full h-full object-cover rounded-lg"
                    src={images[2].src}
                    alt="Gallery Image 3"
                />
            </div>
            <div
                class="rounded-lg bg-zinc-300 col-span-3 col-start-7"
                data-fancybox="gallery"
                data-src={images[3].src}
            >
                <img
                    class="w-full h-full object-cover rounded-lg"
                    src={images[3].src}
                    alt="Gallery Image 4"
                />
            </div>
            <div
                class="rounded-lg bg-zinc-300 col-span-3 row-start-2"
                data-fancybox="gallery"
                data-src={images[4].src}
            >
                <img
                    class="w-full h-full object-cover rounded-lg"
                    src={images[4].src}
                    alt="Gallery Image 5"
                />
            </div>
            <div
                class="rounded-lg bg-zinc-300 col-span-4 col-start-4 row-start-2"
                data-fancybox="gallery"
                data-src={images[5].src}
            >
                <img
                    class="w-full h-full object-cover rounded-lg"
                    src={images[5].src}
                    alt="Gallery Image 6"
                />
            </div>
            <div
                class="rounded-lg bg-zinc-300 col-span-2 col-start-8 row-start-2"
                data-fancybox="gallery"
                data-src={images[6].src}
            >
                <img
                    class="w-full h-full object-cover rounded-lg"
                    src={images[6].src}
                    alt="Gallery Image 7"
                />
            </div>
        </div>
        <button
            data-fancybox-delegate="gallery"
            data-fancybox-index="0"
            class="absolute bg-white text-base shadow border border-zinc-800 rounded-full px-6 md:px-10 py-3 md:py-4 top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 hover:bg-cyan-600 hover:scale-95 hover:text-white transition-all cursor-pointer font-semibold"
        >
            {i18n.HOME_PAGE.GALLERY.BUTTON}
        </button>
    </div>
</section>

<script>
    import { Fancybox } from "@fancyapps/ui/dist/fancybox/";
    Fancybox.bind("[data-fancybox]", {});
</script>
