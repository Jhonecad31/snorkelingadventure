---
import { Swiper, SwiperWrapper, SwiperSlide } from "astro-swiper";
import { getCategories } from "@/services/wp";

const categories = await getCategories();

interface Props {
    pathCurrent?: string;
}

interface Category {
    name: string;
    slug: string;
}

const { pathCurrent = "blog-home" } = Astro.props;
---

<Swiper
    options={{
        slidesPerView: "auto",
        breakpoints: {
            340: {
                spaceBetween: 15,
            },
            768: {
                spaceBetween: 25,
            },
        },
    }}
>
    <SwiperWrapper>
        <SwiperSlide class="!w-fit">
            <p class="text-sm">
                <a
                    href="/blog/"
                    class={`inline-flex px-6 md:px-8 py-2 md:py-3 rounded-full ${pathCurrent === "blog-home" ? "bg-cyan-600 hover:bg-cyan-400 font-semibold text-white" : "bg-gray-100 hover:bg-gray-200"} transition-colors duration-300 shadow-md my-2 whitespace-nowrap`}
                >
                    All Posts
                </a>
            </p>
        </SwiperSlide>
        {
            categories.map((cat: Category) => (
                <SwiperSlide class="!w-fit">
                    <p class="text-sm">
                        <a
                            href={`/blog/category/${cat.slug}/`}
                            class={`inline-flex px-6 md:px-8 py-2 md:py-3 rounded-full ${pathCurrent === cat.slug ? "bg-cyan-600 hover:bg-cyan-400 font-semibold text-white" : "bg-gray-100 hover:bg-gray-200"} transition-colors duration-300 shadow-md my-2 whitespace-nowrap`}
                        >
                            {cat.name}
                        </a>
                    </p>
                </SwiperSlide>
            ))
        }
    </SwiperWrapper>
</Swiper>
